# 📸 图片管理工作流程

## 🎯 简化的工作流程

现在您只需要一个简单的步骤就能管理所有图片：

### 1. 添加图片
将新图片直接放入 `photos-original/` 文件夹

### 2. 处理图片
运行命令：
```bash
npm run photos
```

### 3. 完成！
脚本会自动：
- ✅ 重命名原图（按时间戳格式）
- ✅ 生成压缩版本到 `photos-compressed/`
- ✅ 跳过已处理的图片
- ✅ 补充缺失的压缩图片

## 📁 文件夹结构

```
photos-original/     # ✅ 唯一需要手动添加图片的文件夹
├── IMG_1234.jpg     # 新图片放这里
├── p-2025-07-06-03-28-38-000-1.jpg  # 12.4MB 原图（已处理）
└── ...

photos-compressed/   # ✅ 自动生成的压缩图（用于展示）
├── p-2025-07-06-03-28-38-000-1.jpg  # 520KB 压缩图
└── ...

photos/              # ✅ 只保留配置文件
└── data.ts          # 数据结构定义
```

## 🖼️ 展示逻辑

- **列表/网格视图**：显示 `photos-compressed/` 中的压缩图（快速加载）
- **点击查看详情**：显示 `photos-original/` 中的原图（高质量）

## 🔧 命令说明

- `npm run photos` - 主要命令，处理 photos-original 中的图片
- `npm run photos-old` - 旧的处理方式（处理 photos 文件夹）

## 📊 处理结果示例

```
[RENAME] IMG_1234.jpg -> p-2025-07-23-05-10-11-760-1.jpg
[COMPRESS] Saved compressed: p-2025-07-23-05-10-11-760-1.jpg (-95.8%)
[SKIP] Already processed: p-2025-07-06-03-28-38-000-1.jpg
[MISSING] Creating compressed version for: p-2025-07-06-05-18-41-000-1.jpg
```

## 💡 智能特性

1. **增量处理**：只处理新添加的图片
2. **自动修复**：检测并补充缺失的压缩图片
3. **时间戳命名**：从 EXIF 数据提取拍摄时间
4. **重复处理保护**：避免重复处理已命名的图片

## 🚀 使用建议

1. **批量添加**：可以一次性添加多张图片到 `photos-original/`
2. **定期运行**：添加新图片后运行 `npm run photos`
3. **备份重要**：原图保持原始质量，压缩图用于展示
