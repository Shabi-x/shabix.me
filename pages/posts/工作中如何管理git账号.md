---
title: å·¥ä½œä¸­å¦‚ä½•ä¼˜é›…çš„ç®¡ç†Gitè´¦å·
description: ä½¿ç”¨Git includeIfé…ç½®ä¼˜é›…ç®¡ç†å¤šä¸ªGitè´¦å·ï¼Œé¿å…æäº¤æ—¶è´¦å·æ··ä¹±
date: 2025-05-12T16:00:00.000+08:00
lang: zh
type: note
duration: 8min
---

## å‘ç°é—®é¢˜

æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ‹¥æœ‰å…¬å¸å†…é‚®ç®±ç®¡ç†çš„å·¥èœ‚è´¦å·å’Œç§äººé‚®ç®±ç®¡ç†çš„GitHubè´¦å·ï¼Œä¸åŒè´¦å·ä¼šé…ç½®gité‡Œçš„`user.name`å’Œ`user.email`ã€‚

è€Œå¾€å¾€æˆ‘ä»¬é»˜è®¤ä¼šé…ç½®ä½¿ç”¨å…¬å¸é‡Œçš„é‚®ç®±å’Œç”¨æˆ·åï¼Œè¿™æ ·å‘GitHubæäº¤ä¸€äº›commitä¿¡æ¯çš„æ—¶å€™ä¼šå‡ºç°æ²¡æ³•åŒ¹é…åˆ°æ­£ç¡®çš„é‚®ç®±çš„æƒ…å†µï¼Œä¾‹å¦‚å½“æ—¶å½“æˆ‘åœ¨å‘TDesignæˆ–å…¶ä»–å¼€æºåº“æäº¤commitæ—¶ï¼Œå¦‚æœå¿˜è®°åˆ‡è´¦å·ï¼Œä¼šå‡ºç°ä¸‹é¢å°´å°¬çš„æƒ…å†µï¼š

![Gitè´¦å·æ··ä¹±é—®é¢˜](/images/posts/git-account-problem.png)

è¿™æ˜¾ç„¶ä¼šå­˜åœ¨ä¸¤ä¸ªå¼Šç«¯ï¼š

1. **å…¬å¸å†…ä¸ªäººèŠ±åçš„æ³„éœ²**ï¼ˆå› ä¸ºæˆ‘ä»¬ä¹ æƒ¯æŠŠè‹±æ–‡åä½œä¸ºgit.nameï¼‰
2. **è‡ªå·±çš„è´¡çŒ®æ²¡æ³•è®°å½•åœ¨è‡ªå·±çš„GitHubä¸»é¡µ**ï¼Œå¾ˆè‹¦æ¼

## å¦‚ä½•è§£å†³é—®é¢˜

è¿™é‡Œå¯ä»¥é€šè¿‡ä½¿ç”¨Gitçš„`includeIf`çš„åŸç†ï¼Œä¼˜é›…çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

> ğŸ“– å‚è€ƒæ–‡æ¡£ï¼š[Git Config Includes](https://git-scm.com/docs/git-config#_includes)

## è§£å†³æ–¹æ¡ˆ

### 1. å‡†å¤‡ä¸¤ä¸ªæ–‡ä»¶å¤¹

æˆ‘è¿™é‡Œå‡†å¤‡çš„æ–‡ä»¶å¤¹æ˜¯`~/work/` å’Œ `~/personal/` ä½œä¸ºä¸¤ä¸ªåˆ†ç¦»çš„å·¥ä½œåŒºï¼š

![æ–‡ä»¶å¤¹ç»“æ„](/images/posts/git-folders-structure.png)

### 2. åˆ†åˆ«åœ¨workå’Œpersonalæ–‡ä»¶å¤¹ä¸‹é…ç½®gitä¿¡æ¯

**~/.work.gitconfig**

```ini
[user]
    name = clutchliang
    email = clutchliang@tencent.com
```

**~/.personal.gitconfig**

```ini
[user]
    name = your_name
    email = your_email@qq.com  # ä»¥qqé‚®ç®±ä¸ºä¾‹
```

### 3. é…ç½®å…¨å±€gité…ç½®

åœ¨å…¨å±€æ ¹ç›®å½•é…ç½®gité…ç½®ä¿¡æ¯ `~/.gitconfig`ï¼Œå¦‚æœæ²¡æœ‰è‡ªå·±åˆ›å»ºä¸€ä¸ªå³å¯ï¼š

![å…¨å±€é…ç½®æ–‡ä»¶ä½ç½®](/images/posts/git-global-config-location.png)

é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š

![å…¨å±€é…ç½®å†…å®¹](/images/posts/git-global-config-content.png)

```ini
[includeIf "gitdir:~/work/"]
    path = .work.gitconfig
[includeIf "gitdir:~/personal/"]
    path = .personal.gitconfig
```

ç®€å•çš„æ¥è¯´ï¼Œè¿™ä¸ªå…¨å±€çš„é…ç½®èƒ½æ ¹æ®git configçš„includeè§„åˆ™ï¼Œè‡ªåŠ¨åˆ‡æ¢ä¸åŒè·¯å¾„ä¸‹çš„ä¸ªäººgitä¿¡æ¯ã€‚

### å·¥ä½œåŸç†

å½“ Git æ“ä½œå‘ç”Ÿæ—¶ï¼ˆå¦‚ commitï¼‰ï¼Œç³»ç»Ÿä¼šï¼š

1. **æ£€æµ‹å½“å‰ .git ç›®å½•çš„è·¯å¾„**
2. **è‹¥è·¯å¾„åŒ¹é… `~/work/`** â†’ åŠ è½½ `~/.work.gitconfig`
3. **è‹¥è·¯å¾„åŒ¹é… `~/personal/`** â†’ åŠ è½½ `~/.personal.gitconfig`

### 4. ç®¡ç†é¡¹ç›®åˆ†åŒº

è¿™æ ·é…ç½®ä¹‹åï¼Œä½ åªéœ€è¦åœ¨workè·¯å¾„ä¸‹cloneå…¬å¸å†…çš„é¡¹ç›®ï¼Œåœ¨personalæ–‡ä»¶å¤¹ä¸‹ç®¡ç†è‡ªå·±çš„GitHubé¡¹ç›®ï¼Œå°±èƒ½è½»æ¾ç®¡ç†gitè´¦æˆ·äº†ã€‚

![é¡¹ç›®åˆ†åŒºç®¡ç†](/images/posts/git-project-management.png)

### éªŒè¯æ•ˆæœ

ç®€å•éªŒè¯ä¸€ä¸‹ï¼Œå¤§åŠŸå‘Šæˆï¼š

![éªŒè¯ç»“æœ](/images/posts/git-verification-result.png)

## æ€»ç»“

é€šè¿‡ä½¿ç”¨Gitçš„`includeIf`é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š

- âœ… **è‡ªåŠ¨åˆ‡æ¢è´¦å·**ï¼šæ ¹æ®é¡¹ç›®è·¯å¾„è‡ªåŠ¨ä½¿ç”¨å¯¹åº”çš„Gité…ç½®
- âœ… **é¿å…ä¿¡æ¯æ³„éœ²**ï¼šå·¥ä½œå’Œä¸ªäººé¡¹ç›®å®Œå…¨åˆ†ç¦»
- âœ… **è´¡çŒ®è®°å½•å‡†ç¡®**ï¼šGitHubè´¡çŒ®èƒ½æ­£ç¡®è®°å½•åˆ°ä¸ªäººä¸»é¡µ
- âœ… **æ“ä½œç®€å•**ï¼šä¸€æ¬¡é…ç½®ï¼Œç»ˆèº«å—ç›Š

è¿™ç§æ–¹æ³•æ¯”æ¯æ¬¡æ‰‹åŠ¨åˆ‡æ¢`git config`è¦ä¼˜é›…å¾—å¤šï¼Œå¼ºçƒˆæ¨èï¼
